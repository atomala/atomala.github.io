!function(t){function n(){var n=+t(this).attr("length"),a=+t(this).val().length,s=n>=a;t(this).parent().find('span[class="character-counter"]').html(a+"/"+n),i(s,t(this))}function a(n){$counterElement=t("<span/>").addClass("character-counter").css("float","right").css("font-size","12px").css("height",1),n.parent().append($counterElement)}function s(){t(this).parent().find('span[class="character-counter"]').html("")}function i(t,n){inputHasInvalidClass=n.hasClass("invalid"),t&&inputHasInvalidClass?n.removeClass("invalid"):t||inputHasInvalidClass||(n.removeClass("valid"),n.addClass("invalid"))}t.fn.characterCounter=function(){return this.each(function(){itHasLengthAttribute=void 0!=t(this).attr("length"),itHasLengthAttribute&&(t(this).on("input",n),t(this).on("focus",n),t(this).on("blur",s),a(t(this)))})},t(document).ready(function(){t("input, textarea").characterCounter()})}(jQuery);