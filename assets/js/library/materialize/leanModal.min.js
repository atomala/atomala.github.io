!function(e){e.fn.extend({openModal:function(o){var t=this,a=e('<div id="lean-overlay"></div>');e("body").append(a);var n={opacity:.5,in_duration:350,out_duration:250,ready:void 0,complete:void 0,dismissible:!0};o=e.extend(n,o),o.dismissible&&(e("#lean-overlay").click(function(){e(t).closeModal(o)}),e(document).on("keyup.leanModal",function(a){27===a.keyCode&&e(t).closeModal(o)})),e(t).find(".modal-close").click(function(){e(t).closeModal(o)}),e("#lean-overlay").css({display:"block",opacity:0}),e(t).css({display:"block",opacity:0}),e("#lean-overlay").velocity({opacity:o.opacity},{duration:o.in_duration,queue:!1,ease:"easeOutCubic"}),e(t).hasClass("bottom-sheet")?e(t).velocity({bottom:"0",opacity:1},{duration:o.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof o.ready&&o.ready()}}):(e(t).css({top:"4%"}),e(t).velocity({top:"10%",opacity:1},{duration:o.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof o.ready&&o.ready()}}))}}),e.fn.extend({closeModal:function(o){var t={out_duration:250,complete:void 0},o=e.extend(t,o);e(".modal-close").off(),e(document).off("keyup.leanModal"),e("#lean-overlay").velocity({opacity:0},{duration:o.out_duration,queue:!1,ease:"easeOutQuart"}),e(this).hasClass("bottom-sheet")?e(this).velocity({bottom:"-100%",opacity:0},{duration:o.out_duration,queue:!1,ease:"easeOutCubic",complete:function(){e("#lean-overlay").css({display:"none"}),"function"==typeof o.complete&&o.complete(),e("#lean-overlay").remove()}}):e(this).fadeOut(o.out_duration,function(){e(this).css({top:0}),e("#lean-overlay").css({display:"none"}),"function"==typeof o.complete&&o.complete(),e("#lean-overlay").remove()})}}),e.fn.extend({leanModal:function(o){return this.each(function(){e(this).click(function(t){var a=e(this).attr("href")||"#"+e(this).data("target");e(a).openModal(o),t.preventDefault()})})}})}(jQuery);